import{d as N,u as G,a as M,b as P,r,w as C,c as L,e as l,f as o,i,o as q,g as e,V as f,h as y,j as J,k as B,l as w,m as T,n as S,p as j,q as K,s as O,t as z,v as Q,F as D,x as X,y as Y,z as Z,A as $,B as ee,C as le}from"./index-83a93b04.js";import{V as I,a as A}from"./VDialog-bcf93b6d.js";import{V as H,a as R,b as ae,c as te}from"./VCard-d9169958.js";import{V as W}from"./VForm-383c7102.js";const se=T("span",{style:{"margin-right":"10px"}},"don't have an account?",-1),oe=T("div",{class:"g-signin2",id:"google-signin-btn"},null,-1),ue=N({__name:"Login",props:{dialog:{type:Boolean,default:!1}},setup(x){const k=x,b=S(),U=G().cookies,n=j(),d=M(),V=P();let c=r(),m=!1,u=r(!1),p=!0,g="12345678",h="hanantomer@gmail.com",_=[s=>s||"Required",s=>/.+@.+\..+/.test(s)||"E-mail must be valid"];r(!1);let v={required:s=>!!s||"Required.",min:s=>s&&s.length>=8||"Min 8 characters"};C(()=>k.dialog,s=>{u.value=s});function F(){b.emit("register")}async function E(){if(!await c.value.validate())return;let t=await n.authLocalUserByUserAndPassword(h,g);if(!t){m=!0;return}if(m=!1,n.setUser(t),window.navigator.cookieEnabled?U.set("access_token",t.access_token):alert("cookies not enabled. you must enable cookies to continue"),c.value=null,V.query.from){let a=V.query.from;d.replace(a)}d.push({path:"/lessons"})}return(s,t)=>(q(),L(I,{modelValue:o(u),"onUpdate:modelValue":t[3]||(t[3]=a=>i(u)?u.value=a:u=a),persistent:"",width:"350"},{default:l(()=>[e(R,{height:"400"},{default:l(()=>[e(H,null,{default:l(()=>[e(W,{ref_key:"loginForm",ref:c,modelValue:o(p),"onUpdate:modelValue":t[2]||(t[2]=a=>i(p)?p.value=a:p=a),"lazy-validation":""},{default:l(()=>[e(A,null,{default:l(()=>[e(f,{cols:"12"},{default:l(()=>[e(y,{modelValue:o(h),"onUpdate:modelValue":t[0]||(t[0]=a=>i(h)?h.value=a:h=a),rules:o(_),label:"E-mail",required:""},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(y,{modelValue:o(g),"onUpdate:modelValue":t[1]||(t[1]=a=>i(g)?g.value=a:g=a),rules:[o(v).required,o(v).min],type:"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[o(m)?(q(),L(y,{key:0,class:"alerttext","prepend-icon":"mdi-account-alert",color:"#F44336",readonly:"",outlined:"",value:"Invalid email or password","prepend-inner-icon":"mdi-error"})):J("",!0)]),_:1}),e(f,{class:"d-flex",cols:"12","align-end":""},{default:l(()=>[e(B,{class:"text-none mb-4",color:"indigo-darken-3",size:"x-large",variant:"flat",onClick:E},{default:l(()=>[w(" Log In ")]),_:1})]),_:1}),e(f,{class:"d-flex text-start text-body2",cols:"12"},{default:l(()=>[se,e(B,{"prepend-icon":"mdi-account",onClick:F,size:"x-small"},{default:l(()=>[w("Sign Up")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),oe]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const re=N({__name:"Register",props:{dialog:{type:Boolean,default:!1}},setup(x){const k=x,b=j(),U=M();let n=r(null),d=r(!1),V=r(!1),c=r("hanan"),m=r("tomer"),u=r("hanantomer@gmail.com"),p=r("12345678"),g=r("12345678");const h=[s=>!!s||"Required",s=>/.+@.+\..+/.test(s)||"E-mail must be valid"];let _=r(!1),v={required:s=>!!s||"Required.",min:s=>s&&s.length>=8||"Min 8 characters"};const F=K(()=>()=>p.value===g.value||"Password must match");C(()=>k.dialog,s=>{d.value=s});async function E(){(await n.value.validate()).valid&&(b.registerUser(c.value,m.value,u.value,p.value,"STUDENT"),n.value=null,d.value=!1,U.push("/login"))}return(s,t)=>(q(),L(I,{modelValue:o(d),"onUpdate:modelValue":t[7]||(t[7]=a=>i(d)?d.value=a:d=a),persistent:"",width:"600",height:"600"},{default:l(()=>[e(R,{height:"550"},{default:l(()=>[e(H,null,{default:l(()=>[e(W,{ref_key:"registerForm",ref:n,modelValue:o(V),"onUpdate:modelValue":t[6]||(t[6]=a=>i(V)?V.value=a:V=a),"lazy-validation":""},{default:l(()=>[e(A,null,{default:l(()=>[e(f,{cols:"12",sm:"6",md:"6"},{default:l(()=>[e(y,{modelValue:o(c),"onUpdate:modelValue":t[0]||(t[0]=a=>i(c)?c.value=a:c=a),rules:[o(v).required],label:"First Name",maxlength:"20",required:""},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12",sm:"6",md:"6"},{default:l(()=>[e(y,{modelValue:o(m),"onUpdate:modelValue":t[1]||(t[1]=a=>i(m)?m.value=a:m=a),rules:[o(v).required],label:"Last Name",maxlength:"20",required:""},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(y,{modelValue:o(u),"onUpdate:modelValue":t[2]||(t[2]=a=>i(u)?u.value=a:u=a),rules:h,label:"E-mail",required:""},null,8,["modelValue"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(y,{modelValue:o(p),"onUpdate:modelValue":t[3]||(t[3]=a=>i(p)?p.value=a:p=a),rules:[o(v).required,o(v).min],type:o(_)?"text":"password",label:"Password",hint:"At least 8 characters",counter:"","onClick:append":t[4]||(t[4]=a=>i(_)?_.value=!o(_):_=!o(_))},null,8,["modelValue","rules","type"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(y,{block:"",modelValue:o(g),"onUpdate:modelValue":t[5]||(t[5]=a=>i(g)?g.value=a:g=a),rules:[o(v).required,F.value],type:"password",label:"Confirm Password",counter:""},null,8,["modelValue","rules"])]),_:1}),e(O),e(f,{class:"d-flex",cols:"12","align-end":""},{default:l(()=>[e(B,{class:"text-none mb-4",color:"indigo-darken-3",size:"x-large",variant:"flat",onClick:E},{default:l(()=>[w("Sign Up")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const ne=T("h3",null,"Teach MATH online with Mathboard",-1),ce=N({__name:"Welcome",props:{login:Boolean},setup(x){const k=x,b=S(),U=P();let n=r(!1),d=r(!1);C(U,c=>{k.login&&(n.value=!0)},{flush:"pre",immediate:!0,deep:!0}),C(()=>b.bus.value.get("register"),()=>{n.value=!1,d.value=!0});const V=["Editable notations","Board sharing with students","Virtually call a student to the board","Dispatch exercises and submit feedback"];return(c,m)=>(q(),z(D,null,[e(ue,{dialog:o(n)},null,8,["dialog"]),e(re,{dialog:o(d)},null,8,["dialog"]),e(Q,null,{default:l(()=>[e(A,null,{default:l(()=>[e(f,{class:"text-center",cols:"12"},{default:l(()=>[e(R,{flat:""},{default:l(()=>[e(ae,{"primary-title":"",class:"justify-center"},{default:l(()=>[ne]),_:1}),e(te,{class:"justify-center"},{default:l(()=>[e(B,{color:"orange",onClick:m[0]||(m[0]=u=>i(n)?n.value=!0:n=!0)},{default:l(()=>[w("Get Started")]),_:1})]),_:1})]),_:1}),e(R,{flat:"",class:"justify-center"},{default:l(()=>[e(X,{class:"justify-center"},{default:l(()=>[(q(),z(D,null,Y(V,u=>e(Z,{key:u},{default:l(()=>[e($,null,{default:l(()=>[e(ee,null,{default:l(()=>[w("mdi-check")]),_:1}),w(" "+le(u),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{ce as default};
