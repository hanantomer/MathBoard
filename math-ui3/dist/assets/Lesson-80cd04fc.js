import{u as V,n as I,_ as x}from"./notationLoadingHelper-e92c5679.js";import{K as N,r as m,d as L,q as v,o as r,t as S,g as s,e,c as g,L as w,F as O,y as A,x as z,m as y,z as T,M as B,N as $,A as b,C,k as H,B as D,l as E,b as F,E as G,O as M,w as P,G as R,P as j,f as q,V as h,j as K}from"./index-83a93b04.js";import{u as U}from"./lessonStore-85165b61.js";import{b as J,V as Q,a as W}from"./VCard-d9169958.js";import{a as X}from"./VDialog-bcf93b6d.js";import"./_commonjsHelpers-725317a4.js";const Y=N("studentanswer",()=>{let _=m({}),n=m("");function u(){return _}function o(){return n}function l(a){let t=_.value.get(a);t&&(t.lastHeartbeatTime=new Date)}function d(a){return a=a}return{getStudents:u,getAuthorizedStudentUUId:o,setStudentHeartbeat:l,setAuthorizedStudentUUId:d}}),Z=y("p",{style:{"font-size":"1vw"}},"Online Students",-1),ee={key:1},te=L({__name:"LessonStudents",setup(_){const n=Y(),u=U(),o=V(),l=v(()=>Array.from(n.getStudents().value).map(([t,f])=>f));function d(t){return t.firstName+" "+t.lastName}function a(t){n.setAuthorizedStudentUUId(t.uuid),o.syncOutgoingAuthUser(n.getAuthorizedStudentUUId().value,n.getAuthorizedStudentUUId().value,u.getCurrentLesson().uuid)}return(t,f)=>(r(),S("div",null,[s(W,null,{default:e(()=>[s(J,null,{default:e(()=>[Z]),_:1}),s(Q,null,{default:e(()=>[l.value?(r(),g(z,{key:0},{default:e(()=>[s(w,{"active-class":"activestudent",color:"indigo"},{default:e(()=>[(r(!0),S(O,null,A(l.value,i=>(r(),g(T,{key:i.uuid,onClick:p=>a(i)},{default:e(()=>[s(B,null,{default:e(()=>[s($,{src:i.imageUrl},null,8,["src"])]),_:2},1024),s(b,{style:{"font-size":"0.9vw"},textContent:C(d(i))},null,8,["textContent"]),s(H,{class:"[mx-2]",fab:"",dark:"","x-small":"",color:"green"},{default:e(()=>[s(D,{dark:""},{default:e(()=>[E(" mdi-pencil ")]),_:1})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):(r(),S("p",ee,"No stuedents have yet shown up to this class"))]),_:1})]),_:1})]))}});const se="lessonSvg",de=L({__name:"Lesson",setup(_){const n=F(),u=G(),o=U(),l=M(),d=I(),a=V();let t=m(!1);const f=v(()=>u.isTeacher()),i=v(()=>o.getCurrentLesson().name);let p=m("");P(n,c=>{p.value=c.params.lessonUUId},{immediate:!0}),R(()=>{k(p.value),t.value=!0});async function k(c){l.setParent(c,"LESSON"),await o.setCurrentLesson(c),u.isTeacher()||setInterval(a.syncOutgoingHeartBeat,j,o.getCurrentLesson().uuid),await d.loadNotations()}return(c,ne)=>(r(),g(X,{class:"fill-height"},{default:e(()=>[s(h,{cols:"10"},{default:e(()=>[s(x,{svgId:se,loaded:q(t)},{title:e(()=>[y("p",null,C(i.value),1)]),_:1},8,["loaded"])]),_:1}),f.value?(r(),g(h,{key:0,cols:"2"},{default:e(()=>[s(te)]),_:1})):K("",!0)]),_:1}))}});export{de as default};
