import{d as S,r as V,w as g,q as h,o as y,c as k,e as t,g as e,D as E,V as b,Q as F,h as H,s as x,k as w,l as i,m as A,n as I,E as M,b as j,a as z,R as G,G as J,H as K,S as O,T as $,f as W,I as X,J as Y,B as Z}from"./index-83a93b04.js";import{u as L,V as N}from"./lessonStore-85165b61.js";import{V as ee}from"./VForm-383c7102.js";import{a as C,b as T,V as B,c as q}from"./VCard-d9169958.js";import{a as v,V as D}from"./VDialog-bcf93b6d.js";import{u as te,a as se}from"./answerStore-9016495f.js";const ae=A("span",null,"Please specify question properties",-1),oe=A("small",null,"*indicates required field",-1),le=S({__name:"NewQuestionDialog",props:{dialog:Boolean,name:String},setup(Q){const l=Q,d=L(),f=I(),r=V(!1),a=V();g(()=>l.dialog,o=>{r.value=o}),g(()=>l.name,o=>{a.value=o});function m(){f.emit("save",a)}const p=h(()=>Array.from(d.getLessons().value).map(([o,s])=>s)),c=h({get(){return d.getCurrentLesson().name},set(o){d.setCurrentLesson(o)}});return(o,s)=>(y(),k(v,{justify:"center"},{default:t(()=>[e(D,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=n=>r.value=n),persistent:"","max-width":"500px","min-height":"500x"},{default:t(()=>[e(ee,{onSubmit:E(m,["prevent"])},{default:t(()=>[e(C,null,{default:t(()=>[e(T,{class:"headline"},{default:t(()=>[ae]),_:1}),e(B,null,{default:t(()=>[e(N,null,{default:t(()=>[e(v,null,{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[e(F,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=n=>c.value=n),items:p.value,"item-value":"uuid","item-text":"name",label:"lesson:",dense:"",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[e(H,{autofocus:"",modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=n=>a.value=n),label:"Name*",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),oe]),_:1}),e(q,null,{default:t(()=>[e(x),e(w,{"data-cy":"button-login",color:"blue darken-1",type:"submit"},{default:t(()=>[i(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["modelValue"])]),_:1}))}}),ce=S({__name:"Questions",setup(Q){const l=te(),d=L();se(),M();const f=j(),r=z(),a=V(!1);let m=G({show:!1,name:"",title:""});J(()=>{s()}),g(f,()=>{s()},{flush:"pre",immediate:!0,deep:!0});const p=[{text:"Lesson Name",value:"lessonName"},{text:"Question Name",value:"name"},{text:"Created At",value:"createdAt"}],c=h(()=>Array.from(l.getQuestions().entries()).map(([_,u])=>({uuid:u.uuid,name:u.name,lessonName:u.lesson.name,createdAt:u.createdAt})));function o(){a.value=!1,r.push({path:"/lessons/"})}function s(){if(!d.getLessons().value){a.value=!0;return}l.loadQuestions(),l.getQuestions().size||n()}function n(){m={show:!0,name:"",title:"<span>Please specify <strong>question</strong> title</span"}}function U(_){l.addQuestion(_),r.push({path:"/question/"+l.getCurrentQuestion().uuid})}return(_,u)=>{const P=K("v-data-table");return y(),k(N,null,{default:t(()=>[e(D,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=R=>a.value=R),"max-width":"290"},{default:t(()=>[e(C,null,{default:t(()=>[e(T,{class:"text-h5"},{default:t(()=>[i("Attention ")]),_:1}),e(B,null,{default:t(()=>[i(" Please create lesson for which you can add a question ")]),_:1}),e(q,null,{default:t(()=>[e(x),e(w,{color:"green darken-1",onClick:o},{default:t(()=>[i(" OK ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,O({dialog:W(m).show},$({save:U})),null,16,["dialog"]),e(C,{class:"mx-auto","max-width":"800","min-height":"600"},{default:t(()=>[e(X,{color:"primary",dark:""},{default:t(()=>[e(Y,null,{default:t(()=>[i("Questions")]),_:1}),e(x),e(w,{icon:"",onClick:n},{default:t(()=>[e(Z,null,{default:t(()=>[i("mdi-plus")]),_:1})]),_:1})]),_:1}),e(P,{"v-bind:headers":p,items:c.value,"items-per-page":10,class:"elevation-1","click:row":"seletctQuestion"},null,8,["items"])]),_:1})]),_:1})}}});export{ce as default};
